/// Author: Aziz Köksal
/// License: GPL3
/// $(Maturity very high)
module drc.ast.NodesEnum;

/// Перечисляет категории узла.
enum КатегорияУзла : бкрат
{
  Неопределённый,
  Декларация,
  Инструкция,
  Выражение,
  Тип,
  Иное // Параметр
}

/// Список имен классов, наследующих от Узел.
static const сим[][] г_именаКлассов = [
  // Declarations:
  "СложнаяДекларация",
  "ПустаяДекларация",
  "НелегальнаяДекларация",
  "ДекларацияМодуля",
  "ДекларацияИмпорта",
  "ДекларацияАлиаса",
  "ДекларацияТипдефа",
  "ДекларацияПеречня",
  "ДекларацияЧленаПеречня",
  "ДекларацияКласса",
  "ДекларацияИнтерфейса",
  "ДекларацияСтруктуры",
  "ДекларацияСоюза",
  "ДекларацияКонструктора",
  "ДекларацияСтатическогоКонструктора",
  "ДекларацияДеструктора",
  "ДекларацияСтатическогоДеструктора",
  "ДекларацияФункции",
  "ДекларацияПеременных",
  "ДекларацияИнварианта",
  "ДекларацияЮниттеста",
  "ДекларацияОтладки",
  "ДекларацияВерсии",
  "ДекларацияСтатическогоЕсли",
  "ДекларацияСтатическогоПодтверди",
  "ДекларацияШаблона",
  "ДекларацияНов",
  "ДекларацияУдали",
  "ДекларацияЗащиты",
  "ДекларацияКлассаХранения",
  "ДекларацияКомпоновки",
  "ДекларацияРазложи",
  "ДекларацияПрагмы",
  "ДекларацияСмеси",

  // Statements:
  "СложнаяИнструкция",
  "НелегальнаяИнструкция",
  "ПустаяИнструкция",
  "ИнструкцияТелаФункции",
  "ИнструкцияМасштаб",
  "ИнструкцияСМеткой",
  "ИнструкцияВыражение",
  "ИнструкцияДекларация",
  "ИнструкцияЕсли",
  "ИнструкцияПока",
  "ИнструкцияДелайПока",
  "ИнструкцияПри",
  "ИнструкцияСКаждым",
  "ИнструкцияДиапазонСКаждым", // D2.0
  "ИнструкцияЩит",
  "ИнструкцияРеле",
  "ИнструкцияДефолт",
  "ИнструкцияДалее",
  "ИнструкцияВсё",
  "ИнструкцияИтог",
  "ИнструкцияПереход",
  "ИнструкцияДля",
  "ИнструкцияСинхр",
  "ИнструкцияПробуй",
  "ИнструкцияЛови",
  "ИнструкцияИтожь",
  "ИнструкцияСтражМасштаба",
  "ИнструкцияБрось",
  "ИнструкцияЛетучее",
  "ИнструкцияБлокАсм",
  "ИнструкцияАсм",
  "ИнструкцияАсмРасклад",
  "ИнструкцияНелегальныйАсм",
  "ИнструкцияПрагма",
  "ИнструкцияСмесь",
  "ИнструкцияСтатическоеЕсли",
  "ИнструкцияСтатическоеПодтверди",
  "ИнструкцияОтладка",
  "ИнструкцияВерсия",

  // Expressions:
  "НелегальноеВыражение",
  "ВыражениеУсловия",
  "ВыражениеЗапятая",
  "ВыражениеИлиИли",
  "ВыражениеИИ",
  "ВыражениеИли",
  "ВыражениеИИли",
  "ВыражениеИ",
  "ВыражениеРавно",
  "ВыражениеРавенство",
  "ВыражениеОтнош",
  "ВыражениеВхо",
  "ВыражениеЛСдвиг",
  "ВыражениеПСдвиг",
  "ВыражениеБПСдвиг",
  "ВыражениеПлюс",
  "ВыражениеМинус",
  "ВыражениеСоедини",
  "ВыражениеУмножь",
  "ВыражениеДели",
  "ВыражениеМод",
  "ВыражениеПрисвой",
  "ВыражениеПрисвойЛСдвиг",
  "ВыражениеПрисвойПСдвиг",
  "ВыражениеПрисвойБПСдвиг",
  "ВыражениеПрисвойИли",
  "ВыражениеПрисвойИ",
  "ВыражениеПрисвойПлюс",
  "ВыражениеПрисвойМинус",
  "ВыражениеПрисвойДел",
  "ВыражениеПрисвойУмн",
  "ВыражениеПрисвойМод",
  "ВыражениеПрисвойИИли",
  "ВыражениеПрисвойСоед",
  "ВыражениеАдрес",
  "ВыражениеПреИнкр",
  "ВыражениеПреДекр",
  "ВыражениеПостИнкр",
  "ВыражениеПостДекр",
  "ВыражениеДереф",
  "ВыражениеЗнак",
  "ВыражениеНе",
  "ВыражениеКомп",
  "ВыражениеВызов",
  "ВыражениеНов",
  "ВыражениеНовАнонКласс",
  "ВыражениеУдали",
  "ВыражениеКаст",
  "ВыражениеИндекс",
  "ВыражениеСрез",
  "ВыражениеМасштабМодуля",
  "ВыражениеИдентификатор",
  "ВыражениеСпецСема",
  "ВыражениеТочка",
  "ВыражениеЭкземплярШаблона",
  "ВыражениеЭтот",
  "ВыражениеСупер",
  "ВыражениеНуль",
  "ВыражениеДоллар",
  "БулевоВыражение",
  "ЦелВыражение",
  "ВыражениеРеал",
  "ВыражениеКомплекс",
  "ВыражениеСим",
  "ТекстовоеВыражение",
  "ВыражениеЛитералМассива",
  "ВыражениеЛитералАМассива",
  "ВыражениеПодтверди",
  "ВыражениеСмесь",
  "ВыражениеИмпорта",
  "ВыражениеТипа",
  "ВыражениеИдТипаТочка",
  "ВыражениеИдТипа",
  "ВыражениеЯвляется",
  "ВыражениеРодит",
  "ВыражениеЛитералФункции",
  "ВыражениеТрактовки", // D2.0
  "ВыражениеИницПроц",
  "ВыражениеИницМассива",
  "ВыражениеИницСтрукуры",
  "ВыражениеТипАсм",
  "ВыражениеСмещениеАсм",
  "ВыражениеСегАсм",
  "ВыражениеАсмПослеСкобки",
  "ВыражениеАсмСкобка",
  "ВыражениеЛокальногоРазмераАсм",
  "ВыражениеАсмРегистр",

  // Типы:
  "НелегальныйТип",
  "ИнтегральныйТип",
  "КвалифицированныйТип",
  "ТипМасштабаМодуля",
  "ТипИдентификатор",
  "ТипТипа",
  "ТипЭкземплярШаблона",
  "ТипУказатель",
  "ТипМассив",
  "ТипФункция",
  "ТипДелегат",
  "ТипУказателяНаФункСи",
  "ТипКлассОснова",
  "ТипКонст", // D2.0
  "ТипИнвариант", // D2.0

  // Параметры:
  "Параметр",
  "Параметры",
  "ПараметрАлиасШаблона",
  "ПараметрТипаШаблона",
  "ПараметрЭтотШаблона", // D2.0
  "ПараметрШаблонЗначения",
  "ПараметрКортежШаблона",
  "ПараметрыШаблона",
  "АргументыШаблона",
];

/// Генерирует члены перечня ВидУзла.
сим[] генерируйЧленыВидовУзла()
{
  сим[] текст;
  foreach (имяКласса; г_именаКлассов)
    текст ~= имяКласса ~ ",";
  return текст;
}
// pragma(сооб, генерируйЧленыВидовУзла());

version(DDoc)
  /// The узел вид identifies every class that inherits из Узел.
  enum ВидУзла : бкрат;
else
mixin(
  "enum ВидУзла : бкрат"
  "{"
    ~ генерируйЧленыВидовУзла ~
  "}"
);
